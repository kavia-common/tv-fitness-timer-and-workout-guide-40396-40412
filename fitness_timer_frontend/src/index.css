@import './theme/oceanTheme.css';

/* Feature flags driven global adjustments */
html[data-animations-off="true"] * {
  animation: none !important;
  transition: none !important;
  scroll-behavior: auto !important;
}

/* Debug focus visuals when enabled via flags */
.ff-debug-focus:focus,
.ff-debug-focus .focus-visible-outline:focus-visible,
html[data-debug-focus="true"] .focus-visible-outline:focus-visible {
  outline-offset: 0;
  outline: 2px dashed #F59E0B !important;
  box-shadow: 0 0 0 2px rgba(245, 158, 11, 0.65) !important;
}

/* Global Box Sizing */
*,
*::before,
*::after {
  box-sizing: border-box;
}

/* Root TV-scale font sizing uses --font-size-base from theme */
html {
  font-size: var(--font-size-base, 20px);
}

/* Body baseline using Ocean Professional tokens */
body {
  margin: 0;
  color: var(--color-text);
  background: var(--color-bg);
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  /* TV ambient gradient background unified with header glass */
  background-image: var(--gradient-ambient), var(--gradient-canvas);
  background-attachment: fixed, fixed;
  background-repeat: no-repeat, no-repeat;
  background-size: cover, cover;
}

/* Smooth animations - only transform/opacity for performance */
.smooth-fade-in {
  opacity: 0.001;
  transform: translateY(6px);
  will-change: opacity, transform;
  animation: fadeSlideIn 420ms var(--ease-standard) forwards;
}

@keyframes fadeSlideIn {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Focus visible utility for TV navigation */
.focus-visible {
  outline: var(--focus-ring-outline);
  box-shadow: var(--focus-inner-stroke), var(--focus-ring-shadow);
}

/* Pointer hover/click feedback for mouse users WITHOUT interfering with TV focus */
[data-focusable="true"]:hover {
  filter: brightness(1.02);
  will-change: filter;
}
[data-focusable="true"]:active {
  transform: translateY(0.5px) scale(0.95); /* pressed matches buttons */
  will-change: transform;
}

/* Reusable card class for surfaces */
.card {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-sm);
  transition: transform var(--transition-med), box-shadow var(--transition-med), border-color var(--transition-med);
  will-change: transform, box-shadow;
  overflow: visible;
}

.card:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
}

.card:active {
  transform: scale(0.95);
}

.card:focus-visible {
  outline: var(--focus-ring-outline);
  box-shadow: var(--focus-inner-stroke), var(--focus-ring-shadow);
  transform: scale(1.03);
}

/* Row scroller scrollbar hidden (Firefox and WebKit) */
.row-scroller {
  scrollbar-width: none;
  scroll-snap-type: x mandatory;
  scroll-padding: 0 50%;
}
.row-scroller::-webkit-scrollbar {
  display: none;
}

/* Center focused item in carousels */
.row-scroller > * {
  scroll-snap-align: center;
  scroll-snap-stop: always;
}

/* Focus scaling helper for row items (applied via className) */
.row-card-focused {
  transform: scale(1.03);
  box-shadow: var(--focus-inner-stroke), var(--focus-ring-shadow);
  transition: transform var(--transition-med), box-shadow var(--transition-med);
}

/* Code font */
code {
  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',
    monospace;
}
