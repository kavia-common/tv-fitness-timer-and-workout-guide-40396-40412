{"is_source_file": true, "format": "JavaScript", "description": "This file defines a React component module that manages focus navigation for TV interfaces, especially Android TV remotes. It includes context providers, hooks, and helper components for registering focusable elements, handling focus state, and intercepting key events for D-pad navigation.", "external_files": ["../utils/tvKeyMap"], "external_methods": ["normalizeTVKey", "isArrow"], "published": ["FocusManagerContext", "useFocusManager", "FocusManagerProvider", "Focusable"], "classes": [], "methods": [{"name": "useFocusableRegistry()", "description": "Custom hook that maintains a registry of focusable elements using React refs, allowing registration, deregistration, and retrieval.", "scope": "", "scopeKind": ""}, {"name": "FocusManagerProvider({ children, initialFocusId = null })", "description": "High-level component that provides focus management context, handles initial focus setting, and keyboard navigation logic.", "scope": "", "scopeKind": ""}, {"name": "useFocusManager()", "description": "Hook to access the focus management context, providing methods for registration, focus setting, and retrieval.", "scope": "", "scopeKind": ""}, {"name": "Focusable({ id, children, autoFocus = false, role = 'button', tabIndex = 0, className = '', ...rest })", "description": "Component wrapper that makes its child focusable, registers it with the focus manager, and supports auto-focus.", "scope": "", "scopeKind": ""}], "calls": ["React.createContext", "useContext", "useRef", "useState", "useEffect", "useCallback", "useMemo", "React.cloneElement", "requestAnimationFrame", "window.addEventListener", "window.removeEventListener", "../utils/tvKeyMap.normalizeTVKey", "../utils/tvKeyMap.isArrow"], "search-terms": ["TV focus management", "Android TV remote focus", "D-pad navigation", "React focus context", "Focusable component", "TV remote keyboard control", "Focus registry"], "state": 2, "file_id": 15, "knowledge_revision": 47, "git_revision": "b94f3126ecd523feca33a47baaf242480cd971fd", "revision_history": [{"34": ""}, {"47": "b94f3126ecd523feca33a47baaf242480cd971fd"}], "ctags": [{"_type": "tag", "name": "FocusManagerContext", "path": "/home/kavia/workspace/code-generation/tv-fitness-timer-and-workout-guide-40396-40412/fitness_timer_frontend/src/components/FocusManager.js", "pattern": "/^const FocusManagerContext = createContext({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "FocusManagerProvider", "path": "/home/kavia/workspace/code-generation/tv-fitness-timer-and-workout-guide-40396-40412/fitness_timer_frontend/src/components/FocusManager.js", "pattern": "/^export function FocusManagerProvider({ children, initialFocusId = null }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ children, initialFocusId = null })"}, {"_type": "tag", "name": "Focusable", "path": "/home/kavia/workspace/code-generation/tv-fitness-timer-and-workout-guide-40396-40412/fitness_timer_frontend/src/components/FocusManager.js", "pattern": "/^export function Focusable({ id, children, autoFocus = false, role = 'button', tabIndex = 0, clas/", "language": "JavaScript", "kind": "function", "signature": "({ id, children, autoFocus = false, role = 'button', tabIndex = 0, className = '', ...rest })"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/tv-fitness-timer-and-workout-guide-40396-40412/fitness_timer_frontend/src/components/FocusManager.js", "pattern": "/^    const entry = { id, ref, meta };$/", "language": "JavaScript", "kind": "field", "scope": "useFocusableRegistry.entry", "scopeKind": "class"}, {"_type": "tag", "name": "useFocusManager", "path": "/home/kavia/workspace/code-generation/tv-fitness-timer-and-workout-guide-40396-40412/fitness_timer_frontend/src/components/FocusManager.js", "pattern": "/^export function useFocusManager() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "useFocusableRegistry", "path": "/home/kavia/workspace/code-generation/tv-fitness-timer-and-workout-guide-40396-40412/fitness_timer_frontend/src/components/FocusManager.js", "pattern": "/^function useFocusableRegistry() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "value", "path": "/home/kavia/workspace/code-generation/tv-fitness-timer-and-workout-guide-40396-40412/fitness_timer_frontend/src/components/FocusManager.js", "pattern": "/^  return <FocusManagerContext.Provider value={value}>{children}<\\/FocusManagerContext.Provider>;$/", "language": "JavaScript", "kind": "field", "scope": "Provider", "scopeKind": "class"}], "hash": "2e029b7738dfe01719908c93f2ae5596", "format-version": 4, "code-base-name": "fitness_timer_frontend", "filename": "fitness_timer_frontend/src/components/FocusManager.js", "fields": [{"name": "const entry = { id, ref, meta };", "scope": "useFocusableRegistry.entry", "scopeKind": "class", "description": "unavailable"}, {"name": "return <FocusManagerContext.Provider value={value}>{children}<\\/FocusManagerContext.Provider>;", "scope": "Provider", "scopeKind": "class", "description": "unavailable"}]}