{"is_source_file": true, "format": "JavaScript", "description": "This file provides time utility functions for drift-safe countdowns and formatting, tailored for TV timers. It includes functions for clamping values, formatting seconds into M:SS, a drift-safe setInterval implementation, and a countdown engine with pause, resume, and cancel capabilities.", "external_files": ["performance", "setTimeout", "clearTimeout", "Math"], "external_methods": ["Math.min", "Math.max", "Math.floor", "Math.ceil", "performance.now", "setTimeout", "clearTimeout"], "published": ["clamp", "formatSeconds", "startDriftSafeInterval", "countdown"], "classes": [], "methods": [{"name": "clamp", "description": "Clamps a number between min and max."}, {"name": "formatSeconds", "description": "Formats seconds into M:SS string (e.g., 65 -> \"1:05\")."}, {"name": "startDriftSafeInterval", "description": "Schedules repeated callback execution in a drift-safe manner, returning a cancel function."}, {"name": "countdown", "description": "Creates a drift-safe countdown engine with pause, resume, cancel, and getState methods."}], "calls": ["performance.now", "Math.max", "Math.min", "setTimeout", "clearTimeout"], "search-terms": ["drift-safe countdown", "time utilities", "TV timers", "formatSeconds", "startDriftSafeInterval"], "state": 2, "file_id": 24, "knowledge_revision": 194, "git_revision": "67a03c492f8cfd5ef6dbcbcbbb90fc1ac906fe8e", "revision_history": [{"65": ""}, {"194": "67a03c492f8cfd5ef6dbcbcbbb90fc1ac906fe8e"}], "ctags": [], "filename": "fitness_timer_frontend/src/utils/time.js", "format-version": 4, "code-base-name": "https://github.com/kavia-common/tv-fitness-timer-and-workout-guide-40396-40412.git:kavia-main"}