{"is_source_file": true, "format": "JavaScript", "description": "This file provides utility functions related to time management, including clamp, formatting seconds, drift-safe interval scheduling, and a drift-safe countdown timer tailored for TV timers. It enables precise countdowns and timer formatting with drift minimization.", "external_files": [], "external_methods": ["performance.now", "Math.min", "Math.max", "Math.floor", "setTimeout", "clearTimeout"], "published": ["clamp", "formatSeconds", "startDriftSafeInterval", "countdown"], "classes": [], "methods": [{"name": "clamp(value, min, max)", "description": "Clamps a number between min and max values.", "scope": "", "scopeKind": ""}, {"name": "formatSeconds(totalSeconds)", "description": "Formats a number of seconds into a 'M:SS' string for display.", "scope": "", "scopeKind": ""}, {"name": "startDriftSafeInterval(callback, intervalMs)", "description": "Creates a drift-safe interval using setTimeout that calls the callback at approximately fixed intervals, minimizing drift over time. Returns a cancel function.", "scope": "", "scopeKind": ""}, {"name": "countdown({ durationSeconds, onTick, onComplete, tickRateMs = 250 })", "description": "Implements a drift-safe countdown timer that counts down from specified seconds, providing start, pause, resume, cancel, and status functionalities.", "scope": "", "scopeKind": ""}, {"name": "tick()", "scope": "startDriftSafeInterval", "scopeKind": "function", "description": "unavailable"}], "calls": ["performance.now", "Math.min", "Math.max", "Math.floor", "setTimeout", "clearTimeout"], "search-terms": ["drift-safe interval", "countdown timer", "formatSeconds", "time utilities", "TV timers", "performance.now", "countdown"], "state": 2, "file_id": 24, "knowledge_revision": 65, "git_revision": "", "ctags": [{"_type": "tag", "name": "clamp", "path": "/home/kavia/workspace/code-generation/tv-fitness-timer-and-workout-guide-40396-40412/fitness_timer_frontend/src/utils/time.js", "pattern": "/^export function clamp(value, min, max) {$/", "language": "JavaScript", "kind": "function", "signature": "(value, min, max)"}, {"_type": "tag", "name": "countdown", "path": "/home/kavia/workspace/code-generation/tv-fitness-timer-and-workout-guide-40396-40412/fitness_timer_frontend/src/utils/time.js", "pattern": "/^export function countdown({ durationSeconds, onTick, onComplete, tickRateMs = 250 }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ durationSeconds, onTick, onComplete, tickRateMs = 250 })"}, {"_type": "tag", "name": "formatSeconds", "path": "/home/kavia/workspace/code-generation/tv-fitness-timer-and-workout-guide-40396-40412/fitness_timer_frontend/src/utils/time.js", "pattern": "/^export function formatSeconds(totalSeconds) {$/", "language": "JavaScript", "kind": "function", "signature": "(totalSeconds)"}, {"_type": "tag", "name": "startDriftSafeInterval", "path": "/home/kavia/workspace/code-generation/tv-fitness-timer-and-workout-guide-40396-40412/fitness_timer_frontend/src/utils/time.js", "pattern": "/^export function startDriftSafeInterval(callback, intervalMs) {$/", "language": "JavaScript", "kind": "function", "signature": "(callback, intervalMs)"}, {"_type": "tag", "name": "tick", "path": "/home/kavia/workspace/code-generation/tv-fitness-timer-and-workout-guide-40396-40412/fitness_timer_frontend/src/utils/time.js", "pattern": "/^  function tick() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "startDriftSafeInterval", "scopeKind": "function"}], "hash": "7e9e9ddc1a3a8cb7fff7dfb7762a6947", "format-version": 4, "code-base-name": "fitness_timer_frontend", "filename": "fitness_timer_frontend/src/utils/time.js", "revision_history": [{"65": ""}]}